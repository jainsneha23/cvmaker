/*!
 * Angular Tooltips v0.1.21
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-08-16
 */


!function(a){"use strict";a.module("720kb.tooltips",[]).provider("tooltipsConfig",function(){var b={scroll:!1,showTrigger:"mouseover",hideTrigger:"mouseleave",hideTarget:"element",side:"top",size:"medium","try":!0,"class":"",speed:"medium",delay:0,lazy:!0,closeButton:null};this.options=function(){return 1===arguments.length&&a.extend(b,arguments[0]),a.copy(b)},this.$get=function(){return b}}).directive("tooltips",["$window","$compile","$interpolate","$interval","tooltipsConfig",function(b,c,d,e,f){var g=8,h=9,i=10,j=20,k="_720kb-tooltip-",l=d.startSymbol(),m=d.endSymbol();return{restrict:"A",scope:{},link:function(d,n,o){function p(){T&&C||(C=!0,d.initTooltip(N)),P&&d.tooltipTryPosition(),d.showTooltip()}function q(){d.hideTooltip()}function r(){d.hideTooltip(),d.initTooltip(M)}var s,t,u,v,w,x,y,z,A,B,C=!1,D=a.element(n[0]),E=a.element(b.document.getElementsByTagName("body")[0]),F=o.tooltipTitle||o.title||"",G=o.tooltipScroll||f.scroll,H=o.tooltipContent||"",I=o.tooltipHtml||"",J=o.tooltipShowTrigger||f.showTrigger,K=o.tooltipHideTrigger||f.hideTrigger,L="undefined"!=typeof o.tooltipHideTarget&&null!==o.tooltipHideTarget?o.tooltipHideTarget:f.hideTarget,M=o.tooltipSide||f.side,N=M,O=o.tooltipSize||f.size,P="undefined"!=typeof o.tooltipTry&&null!==o.tooltipTry?d.$eval(o.tooltipTry):f["try"],Q=o.tooltipClass||f["class"],R=(o.tooltipSpeed||f.speed).toLowerCase(),S=o.tooltipDelay||f.delay,T="undefined"!=typeof o.tooltipLazy&&null!==o.tooltipLazy?d.$eval(o.tooltipLazy):f.lazy,U=o.tooltipCloseButton||f.closeButton,V="undefined"!=typeof U&&null!==U,W='<div class="_720kb-tooltip '+k+O+'">';"element"!==L&&"tooltip"!==L&&(L="element"),V&&(W=W+'<span class="'+k+'close-button" ng-click="hideTooltip()"> '+U+" </span>"),o.tooltipView&&(W=o.tooltipViewCtrl?W+'<div ng-controller="'+o.tooltipViewCtrl+'" ng-include="\''+o.tooltipView+"'\"></div>":W+"<div ng-include=\"'"+o.tooltipView+"'\"></div>"),W=W+'<div class="'+k+'title"> '+l+"title"+m+"</div>"+l+"content"+m+I+' <span class="'+k+'caret"></span></div>',d.title=F,d.content=H,d.html=I,d.parseSpeed=function(){switch(R){case"fast":R=100;break;case"medium":R=450;break;case"slow":R=800;break;default:R=Number(R)}},s=c(W)(d),s.addClass(Q),E.append(s),d.isTooltipEmpty=function(){return d.title||d.content||d.html?void 0:!0},d.initTooltip=function(a){d.isTooltipEmpty()?s.css("visibility","hidden"):(s.css("visibility","visible"),w=D[0].offsetHeight,x=D[0].offsetWidth,t=s[0].offsetHeight,u=s[0].offsetWidth,d.parseSpeed(),d.tooltipPositioning(a))},d.getOffsets=function(){y=d.getOffsetTop(D[0]),z=d.getOffsetLeft(D[0])},d.getOffsetTop=function(a){var c=a.getBoundingClientRect().top+b.scrollY;return isNaN(c)&&(c=a.getBoundingClientRect().top+b.pageYOffset),c},d.getOffsetLeft=function(a){var c=a.getBoundingClientRect().left+b.scrollX;return isNaN(c)&&(c=a.getBoundingClientRect().left+b.pageXOffset),c},d.bindShowTriggers=function(){D.bind(J,p)},d.bindHideTriggers=function(){"tooltip"===L?s.bind(K,q):D.bind(K,q)},d.clearTriggers=function(){D.unbind(J,p),D.unbind(K,q)},d.bindShowTriggers(),d.showTooltip=function(){G&&(B=D[0].getBoundingClientRect(),A=e(function(){var b=D[0].getBoundingClientRect();a.equals(B,b)||d.tooltipPositioning(N),B=b},j)),s.addClass(k+"open"),s.css("transition","opacity "+R+"ms linear"),S&&s.css("transition-delay",S+"ms"),d.clearTriggers(),d.bindHideTriggers()},d.hideTooltip=function(){s.css("transition","opacity "+R+"ms linear, visibility 0s linear "+R+"ms"),s.removeClass(k+"open"),d.clearTriggers(),d.bindShowTriggers(),a.isDefined(d.positionInterval)&&(e.cancel(A),A=void 0)},d.removePosition=function(){s.removeClass(k+"left").removeClass(k+"right").removeClass(k+"top").removeClass(k+"bottom ")},d.tooltipPositioning=function(a){d.removePosition(),d.getOffsets();var b,c;"small"===O?v=g:"medium"===O?v=h:"large"===O&&(v=i),"left"===a&&(b=y+w/2-t/2,c=z-(u+v),s.css("top",b+"px"),s.css("left",c+"px"),s.addClass(k+"left")),"right"===a&&(b=y+w/2-t/2,c=z+x+v,s.css("top",b+"px"),s.css("left",c+"px"),s.addClass(k+"right")),"top"===a&&(b=y-v-t,c=z+x/2-u/2,s.css("top",b+"px"),s.css("left",c+"px"),s.addClass(k+"top")),"bottom"===a&&(b=y+w+v,c=z+x/2-u/2,s.css("top",b+"px"),s.css("left",c+"px"),s.addClass(k+"bottom"))},d.tooltipTryPosition=function(){var a=s[0].offsetHeight,c=s[0].offsetWidth,e=s[0].offsetTop,f=s[0].offsetLeft,g=b.innerWidth,h=b.innerHeight,i=g-(c+f),j=h-(a+e),k=D[0].offsetHeight,l=D[0].offsetWidth,m=D[0].offsetLeft,n=D[0].offsetTop,o=g-(m+l),p=h-(k+n),q={left:f,top:e,bottom:j,right:i},r={left:m,right:o,top:n,bottom:p},t=Object.keys(r).reduce(function(a,b){return r[a]>r[b]?a:b}),u=Object.keys(q).reduce(function(a,b){return q[a]<q[b]?a:b});M!==t&&q[u]<20&&(N=t,d.tooltipPositioning(N),d.initTooltip(t))},a.element(b).bind("resize",r),d.$on("$destroy",function(){a.element(b).unbind("resize",r),d.clearTriggers(),s.remove()}),o.tooltipTitle&&o.$observe("tooltipTitle",function(a){d.title=a,d.initTooltip(N)}),o.title&&o.$observe("title",function(a){d.title=a,d.initTooltip(N)}),o.tooltipContent&&o.$observe("tooltipContent",function(a){d.content=a,d.initTooltip(N)}),o.tooltipHtml&&o.$observe("tooltipHtml",function(a){d.html=a,d.initTooltip(N)})}}}])}(angular);
//# sourceMappingURL=angular-tooltips.sourcemap.map